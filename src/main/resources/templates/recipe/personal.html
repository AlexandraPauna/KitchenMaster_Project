<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" xmlns:javascript="http://www.w3.org/1999/xhtml"
      xmlns:padding-right="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Fav and touch icons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" th:href="@{/ico/apple-touch-icon-144-precomposed.png}">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" th:href="@{/ico/apple-touch-icon-114-precomposed.png}">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" th:href="@{/ico/apple-touch-icon-72-precomposed.png}">
    <link rel="apple-touch-icon-precomposed" th:href="@{/ico/apple-touch-icon-57-precomposed.png}">
    <link rel="shortcut icon" th:href="@{/ico/favicon.png}">

    <link rel="stylesheet" type="text/css" th:href="@{/css/registration.css}"/>
    <title>Kitchen Master</title>
    <!-- Bootstrap core CSS -->
    <link th:href="@{/bootstrap/css/bootstrap.css}" rel="stylesheet">


    <link th:href="@{/css/style.css}" rel="stylesheet">

    <!-- styles needed for carousel slider -->
    <link th:href="@{/plugins/owl-carousel/owl.carousel.css}" rel="stylesheet">
    <link th:href="@{/plugins/owl-carousel/owl.theme.css}" rel="stylesheet">

    <!-- bxSlider CSS file -->
    <link th:href="@{/plugins/bxslider/jquery.bxslider.css}" rel="stylesheet"/>

    <!-- Just for debugging purposes. -->
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- include pace script for automatic web page progress bar  -->
    <script>
        paceOptions = {
            elements: true
        };
    </script>
    <script th:src="@{/js/pace.min.js}"></script>
    <script th:src="@{/plugins/modernizr/modernizr-custom.js}"></script>


</head>
<body>
<div id="wrapper">
    <div th:replace="layout :: header"></div>

    <div class="main-container">
        <div class="container">
            <div class="row">
                <div class="col-md-3 page-sidebar">
                    <aside>
                        <div class="inner-box">
                            <div class="user-panel-sidebar">
                                <div class="collapse-box">
                                    <h5 class="collapse-title no-border">
                                        My Account <a href="#MyClassified" aria-expanded="true" data-toggle="collapse"
                                                      class="pull-right">
                                    </a>
                                    </h5>

                                    <div class="panel-collapse collapse show" id="MyClassified">
                                        <ul class="acc-list">
                                            <li>
                                                <a th:href="@{/profile}">
                                                    <i class="icon-home"></i>
                                                    My Profile
                                                </a>
                                            </li>
                                            <li>
                                                <a  th:href="@{'/user/update/' + ${loggedUser.id}}">
                                                    <i class="icon-pencil"></i>
                                                    Edit Profile
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <!-- /.collapse-box  -->
                                <div class="collapse-box">
                                    <h5 class="collapse-title">
                                        Recipes <a href="#MyAds" aria-expanded="true" data-toggle="collapse"
                                                   class="pull-right">
                                    </a>
                                    </h5>

                                    <div class="panel-collapse collapse show" id="MyAds">
                                        <ul class="acc-list">
                                            <li>
                                                <a class="active" th:href="@{/recipe/personal}">
                                                    <i class="icon-docs"></i> My Recipes
                                                    <span th:utext="${nrOfRecipes}"></span>
                                                </a>
                                            </li>
                                            <li>
                                                <a th:href="@{/rating/personal}">
                                                    <i class="icon-star"></i> My Ratings
                                                    <span th:utext="${nrOfRatings}"></span>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <!-- /.collapse-box  -->

                                <!--                                <div class="collapse-box">-->
                                <!--                                    <h5 class="collapse-title">-->
                                <!--                                        Inchidere Cont <a href="#TerminateAccount"-->
                                <!--                                                          aria-expanded="true" data-toggle="collapse"-->
                                <!--                                                          class="pull-right">-->
                                <!--                                        @*<i class="fa fa-angle-down"></i>*@-->
                                <!--                                    </a>-->
                                <!--                                    </h5>-->

                                <!--                                    <div class="panel-collapse collapse show" id="TerminateAccount">-->
                                <!--                                        <ul class="acc-list">-->
                                <!--                                            <li>-->
                                <!--                                                <a href='@Url.Action("Delete", "Manage")'>-->
                                <!--                                                    <i class="icon-cancel-circled "></i> Sterge-ti Contul-->
                                <!--                                                </a>-->
                                <!--                                            </li>-->
                                <!--                                        </ul>-->
                                <!--                                    </div>-->
                                <!--                                </div>-->
                                <!-- /.collapse-box  -->
                            </div>
                        </div>
                        <!-- /.inner-box  -->

                    </aside>
                </div>
                <!--/.page-sidebar-->

                <div class="col-md-9 page-content">
                    <div class="inner-box">
                        <h2 class="title-2"><i class="icon-heart-1"></i> My recipes </h2>

                        <div class="table-responsive">
                            <!--                            <div class="table-action">-->
                            <!--                                -->
                            <!--                                <div class="table-search pull-right col-sm-7">-->
                            <!--                                    @using (Html.BeginForm("Personal", "Product", FormMethod.Get, new { id = "form1" }))-->
                            <!--                                    {-->
                            <!--                                    <div class="row">-->

                            <!--                                        @Html.DropDownList("sortType", new SelectList(-->
                            <!--                                        new List<Object>{-->
                            <!--                                        new { value = "Active" , text = "Anunturi active"  },-->
                            <!--                                        new { value = "Deactivated" , text = "Anunturi dezactivate" }-->
                            <!--                                        }, "value", "text", 1), new { id = "sortType", @class = "form-control", @onchange = "submitform();" })-->

                            <!--                                    </div>-->
                            <!--                                    }-->
                            <!--                                    -->
                            <!--                                </div>-->
                            <!--                            </div>-->

                            <p th:if="${nrOfRecipes == 0}">No recipes added!</p>

                            <table th:if="${nrOfRecipes != 0}"
                                   id="addManageTable"
                                   class="table table-striped table-bordered add-manage-table table demo"
                                   data-filter="#filter" data-filter-text-only="true">
                                <thead>
                                <tr>
                                    <!--                                    <th> Fotografie</th>-->
                                    <th data-sort-ignore="true"> Recipe Details</th>
                                    <th data-type="numeric"> Calories</th>
                                    <th> Option</th>
                                </tr>
                                </thead>
                                <tbody>

                                <tr th:each="recipe : ${recipes}">

                                    <!--                                    <td style="width:14%" class="add-img-td">-->
                                    <!--                                        <a href="/Product/Show/@product.ProductId">-->
                                    <!--                                            <img class="thumbnail  img-responsive"-->
                                    <!--                                                 src="@Url.Action("MainProductPhoto", "Product", new { prodId = product.ProductId})"-->
                                    <!--                                            alt="img">-->
                                    <!--                                        </a>-->
                                    <!--                                    </td>-->
                                    <td style="width:58%" class="ads-details-td">
                                        <div>
                                            <p>
                                                <strong>
                                                    <a th:href="@{'/recipe/show/' + ${recipe.id}}"
                                                       th:title="${recipe.name}" th:text="${recipe.name}">
                                                    </a>
                                                </strong>
                                            </p>

                                            <p>
                                                <strong> Posted on </strong>:
                                                <!--                                                <a th:text="${recipe.date}"></a>-->
                                                <a th:text="${#dates.format(recipe.date, 'dd-MM-yyyy HH:MM')}"></a>
                                            </p>

                                        </div>
                                    </td>
                                    <td style="width:16%" class="price-td">
                                        <div><strong th:text="${recipe.calories} + ' KCAL'"></strong></div>
                                    </td>
                                    <td style="width:10%" class="action-td">
                                        <div>

                                            <p th:if="${role == 'ADMIN'} OR ${recipe.user == loggedUser}">
                                                <a class="btn btn-success btn-sm"  th:href="@{'/recipe/update/' + ${recipe.id}}">
                                                    <i class=" fa fa-pen"></i> Edit recipe
                                                </a>
                                            </p>


                                            <!--                                            <form method="post" action="/Product/Delete/@product.ProductId">-->
                                            <p th:if="${role == 'ADMIN'} OR ${recipe.user == loggedUser}">
                                                <!--                                                    @Html.HttpMethodOverride(HttpVerbs.Delete)-->
                                                <!--                                                    <button class="btn btn-danger btn-sm" type="submit"-->
                                                <!--                                                            padding-right:11px-->
                                                <!--                                                    onclick="return confirm('Esti sigur?');">-->
                                                <a class="btn btn-success btn-sm"
                                                   th:href="@{'/recipe/' + ${recipe.id} + '/delete'}">
                                                    <i class=" fa fa-pen"></i> Delete recipe
                                                </a>
                                                <!--                                                    <i class=" fa fa-trash"></i> Delete recipe-->
                                                <!--                                                    </button>-->
                                            </p>
                                            <!--                                            </form>-->

                                        </div>
                                    </td>
                                </tr>


                                </tbody>
                            </table>

                        </div>
                        <!--/.row-box End-->

                    </div>

                    <!--                    @if (Model.Products != null)-->
                    <!--                    {-->
                    <!--                    <div class="pagination-bar text-center">-->
                    <!--                        <nav aria-label="Page navigation " class="d-inline-b">-->
                    <!--                            Pagina @(Model.Products.PageCount < Model.Products.PageNumber ? 0 : Model.Products.PageNumber) din @Model.Products.PageCount-->

                    <!--                            @Html.PagedListPager((IPagedList)Model.Products, page => Url.Action("Personal", new {  sortType = ViewBag.SortType, page = page}),-->
                    <!--                            new PagedListRenderOptions-->
                    <!--                            {-->
                    <!--                            FunctionToTransformEachPageLink = (liTag, aTag) => { aTag.Attributes.Add("class", "page-link".ToString()); return aTag; },-->
                    <!--                            LiElementClasses = new string[] { "page-item" },-->
                    <!--                            })-->
                    <!--                        </nav>-->
                    <!--                    </div>-->
                    <!--                    }-->


                </div>
                <!--/.page-content-->
            </div>
            <!--/.row-->
        </div>
        <!-- /.container -->
    </div>
    <!-- /.main-container -->

</div>
<!-- /.wrapper -->


<!-- Le javascript
================================================== -->

<!-- Placed at the end of the document so the pages load faster -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/jquery/jquery-3.3.1.min.js">\x3C/script>')</script>

<script th:src="@{/js/vendors.min.js}"></script>

<!-- include custom script for site  -->
<script th:src="@{/js/main.min.js}"></script>


<!-- include jquery file upload plugin  -->
<script th:src="@{/js/fileinput.min.js}" type="text/javascript"></script>
<script>
    // initialize with defaults
    $("#input-upload-img1").fileinput();
    $("#input-upload-img2").fileinput();
    $("#input-upload-img3").fileinput();
    $("#input-upload-img4").fileinput();
    $("#input-upload-img5").fileinput();
</script>
</body>
</html>
